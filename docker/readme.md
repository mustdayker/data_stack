
### Часто используемое

Команда                          | Описание
---------------------------------|----------
`docker compose up -d`           | Запускаем Compose
`docker compose down`            | Останавливаем Compose
`docker volume prune`            | Удалить все несвязанные Volume (в т.ч. временные)




### Общие команды

Команда                          | Описание
---------------------------------|----------
`wsl -v`                         | Проверить установлен ли WSL
`wsl --install`                  | Установить WSL
`wsl --update`                   | Обновить WSL
`docker`                         | Проверить что докер запущен, а так же список команд
`docker version`                 | Версия докера
`docker pull image_name:version` | Скачать образ из docker-hub. Например `docker pull python:3.14.0a7`
`docker run image_name:version`  | Создать и запустить контейнер на основе образа. Если образа нет в докер она будет скачан из docker hub
`docker images`                  | Вывод доступных образов
`docker ps`                      | Вывод информации о запущенных контейнерах
`docker ps -a`                   | Вывод информации о всех контейнерах
`docker start container_name`    | Запустить контейнер с указанным именем/идентификатором
`docker stop container_name`     | Остановить контейнер с именем/идентификатором
`docker kill container_name`     | Если вдруг команда `stop` не отвечает можно применить `kill`
`docker rm container_name`       | Удалить контейнер с именем/идентификатором
`docker container prune` | Удалить все неработающие контейнеры
`docker rmi image_name:version` | Удалить образ с указанным именем:версией


### Запуск образов

Основная команда запуска. В таком случае имя контейнера будет сгенерировано автоматически. При повторении команды будут создаваться все новые контейнеры.

```powershell
docker run image_name:version
```

Возможные параметры:

Флаг                    | Описание
------------------------|----------
`--name container_name` | Установить имя контейнера вручную


### Общие флаги

Подходят для команд `run` и `start`

Флаг     | Описание
---------|----------
`-i`     | Запуск с выводом информации в консоль
`-t`     | Запуск контейнера в интерактивном режиме. Не останавливает контейнер по итогу выполнения.
`--rm`   | Удалить контейнер после остановки (применимо только к `run`)
`--help` | Вывести помощь по команде



# Управление контейнерами

Команда `docker exec` — одна из важнейших команд для управления запущенными Docker-контейнерами. Она позволяет выполнять команды внутри уже работающего контейнера.

## Основное назначение

`docker exec` используется для:
- Запуска дополнительных процессов в работающем контейнере
- Отладки и диагностики проблем
- Взаимодействия с приложениями внутри контейнера
- Проверки файловой системы контейнера

## Базовый синтаксис

```bash
docker exec [ОПЦИИ] КОНТЕЙНЕР КОМАНДА [АРГУМЕНТЫ...]
```

## Основные опции

- `-i` или `--interactive` — сохраняет STDIN открытым
- `-t` или `--tty` — выделяет псевдо-TTY
- `-d` или `--detach` — запуск в фоновом режиме
- `-u` или `--user` — указание пользователя
- `-w` или `--workdir` — установка рабочей директории
- `-e` или `--env` — установка переменных окружения

## Практические примеры

### 1. Интерактивный сеанс в контейнере
```bash
# Запуск интерактивной shell-сессии
docker exec -it my_container bash
docker exec -it my_container sh
```

### 2. Выполнение одной команды
```bash
# Проверить процессы в контейнере
docker exec my_container ps aux

# Посмотреть содержимое директории
docker exec my_container ls -la /app

# Проверить логи
docker exec my_container tail -f /var/log/app.log
```

### 3. Работа с пользователями
```bash
# Выполнить команду от имени конкретного пользователя
docker exec -u root my_container whoami
docker exec -u 1000 my_container id
```

### 4. Установка рабочей директории
```bash
docker exec -w /app my_container pwd
```

### 5. Фоновое выполнение
```bash
docker exec -d my_container some_background_task
```

## Типичные сценарии использования

### Отладка приложения
```bash
# Проверить, слушает ли приложение на порту
docker exec -it web_app netstat -tulpn

# Посмотреть переменные окружения
docker exec web_app env

# Проверить использование диска
docker exec web_app df -h
```

### Администрирование базы данных
```bash
# Подключиться к PostgreSQL
docker exec -it postgres_db psql -U postgres

# Сделать дамп MySQL
docker exec mysql_db mysqldump -u root -p database > backup.sql
```

### Мониторинг
```bash
# Мониторинг процессов в реальном времени
docker exec -it app_container top

# Проверить сетевые соединения
docker exec app_container netstat -an
```

## Важные особенности

1. **Контейнер должен быть запущен** — команда работает только с running-контейнерами
2. **Изменения не сохраняются** (если не используются volumes)
3. **Безопасность** — будьте осторожны с выполнением привилегированных команд

## Пример полного workflow

```bash
# Запускаем контейнер
docker run -d --name my_web nginx

# Проверяем, что он работает
docker ps

# Подключаемся к контейнеру
docker exec -it my_web bash

# Внутри контейнера:
# cat /etc/nginx/nginx.conf
# ps aux
# exit

# Выполняем команду без входа
docker exec my_web nginx -t
```

Команда `docker exec` — незаменимый инструмент в арсенале разработчика и администратора для работы с Docker-контейнерами.